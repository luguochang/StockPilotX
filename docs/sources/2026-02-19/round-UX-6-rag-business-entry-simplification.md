# ROUND-UX-6：RAG 业务入口简化（预设驱动 + 一键生效）

## 背景
用户反馈 `RAG 语料中心` 页面存在以下体验问题：
1. 输入项过多，业务用户不知道每个参数意义。
2. 随机输入导致效果不可预期，增加误操作概率。
3. 业务上传与运维治理混在同一层，主流程被稀释。

## 本轮目标
1. 把业务主流程压缩到最短路径，默认可用。
2. 保留运维能力但避免打扰业务使用。
3. 不改后端协议，仅通过前端交互改造降低门槛。

## 实施方案
1. 引入双模式：`business`（默认）与 `ops`。
2. 在 `business` 模式中使用上传预设：`financial_report`、`announcement`、`research`、`meeting_note`、`custom`。
3. 预设自动注入默认 `source` 和 `tags`，并在提交时提供 fallback：
   - `source: uploadSource || preset.source`
   - `tags: normalizedTags.length ? normalizedTags : preset.tags`
4. 业务上传流程固定为：选择资料类型 -> 选择文件 -> 上传并生效。
5. 高级参数（来源/股票代码/标签/自动索引）折叠到可选区。
6. 运维视图保留四个治理子域：`source`、`chunk`、`memory`、`trace`。

## 关键实现说明
1. `PRESET_CONFIG` 作为业务模式的最小知识注入层，降低空输入和脏输入风险。
2. `useEffect` 在非 `custom` 预设下自动回填来源和标签，减少重复输入。
3. 上传 payload 增加注释并使用预设回退，保障元数据完整性。
4. 修复 JSX 文本中的 `->` 解析问题，避免类型检查失败。

## 自测
1. `cd frontend && npm run build`：通过。
2. `cd frontend && npx tsc --noEmit`：通过。

## 结果
1. 业务用户进入页面后只需完成 2 个输入动作（类型 + 文件）即可完成入库。
2. 复杂治理能力仍可在 `ops` 模式使用，不影响已有管理流程。
3. 本轮为纯前端交互优化，对后端 API 无破坏性变更。

## 风险与后续
1. 当前预设仍为固定枚举，后续可接入后台配置化模板。
2. 上传成功后仅显示基础反馈，后续可补「可检索样本预览」增强可感知性。
3. 可在下一轮补充端到端验证脚本（上传 -> 检索 -> 引用命中）用于回归。
